<!DOCTYPE html>
<!-- saved from url=(0214)https://lms.skillfactory.ru/xblock/block-v1:SkillFactory+DSPR-2.0+14JULY2021+type@vertical+block@e0b84959c15a43609ec6b146b9319e68?show_title=0&show_bookmark_button=0&recheck_access=1&view=student_view&format=Module -->
<html lang="ru"><!--<![endif]--><head dir="ltr"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="origin-trial" content="ArNBN7d1AkvMhJTGWXlJ8td/AN4lOokzOnqKRNkTnLqaqx0HpfYvmx8JePPs/emKh6O5fckx14LeZIGJ1AQYjgAAAABzeyJvcmlnaW4iOiJodHRwOi8vbG9jYWxob3N0OjE4MDAwIiwiZmVhdHVyZSI6IkRpc2FibGVEaWZmZXJlbnRPcmlnaW5TdWJmcmFtZURpYWxvZ1N1cHByZXNzaW9uIiwiZXhwaXJ5IjoxNjM5NTI2Mzk5fQ==">


    
    <title>

 DSPR-2.0 Courseware | Skillfactory
</title>




<script async="" src="./tag.js.загрузка"></script><script type="text/javascript" src="./djangojs.0387ac39f9bc.js.загрузка"></script>
<script type="text/javascript" src="./ie11_find_array.bd1c6dc7a133.js.загрузка"></script>

<link rel="icon" type="image/x-icon" href="https://lms-cdn.skillfactory.ru/static/edx-theme/images/favicon.92d1a59c6dad.ico">




  

    <link href="./lms-style-vendor.68e48093f5dd.css" rel="stylesheet" type="text/css">




  

    <link href="./lms-main-v1.0c15fb93e2a0.css" rel="stylesheet" type="text/css">





    
<script type="text/javascript" src="./lms-main_vendor.3c3c9a2604d6.js.загрузка" charset="utf-8"></script>



    
<script type="text/javascript" src="./lms-application.98d9a8549a03.js.загрузка" charset="utf-8"></script>




    
    
    <script type="text/javascript" src="./commons.af234e12410246aee736.b4043407c451.js.загрузка"></script>



<script>
    window.baseUrl = "https://lms\u002Dcdn.skillfactory.ru/static/";
    (function (require) {
        require.config({
            baseUrl: window.baseUrl
        });
    }).call(this, require || RequireJS.require);
</script>
<script type="text/javascript" src="./require-config.3cb9f35ae96d.js.загрузка"></script>

<script type="text/javascript">
        (function (require) {
          require.config({
              paths: {
                'course_bookmarks/js/views/bookmark_button': 'course_bookmarks/js/views/bookmark_button.d4cfaf3361fa',
'js/views/message_banner': 'js/views/message_banner.141974fd4f5d',
'moment': 'common/js/vendor/moment-with-locales.e3cc27d412a1',
'moment-timezone': 'common/js/vendor/moment-timezone-with-data.60142e6c4416',
'js/courseware/course_info_events': 'js/courseware/course_info_events.2fc35b57627f',
'js/courseware/accordion_events': 'js/courseware/accordion_events.6064c7809de5',
'js/dateutil_factory': 'js/dateutil_factory.a28baef97506',
'js/courseware/link_clicked_events': 'js/courseware/link_clicked_events',
'js/courseware/toggle_element_visibility': 'js/courseware/toggle_element_visibility.474ff5ba9de3',
'js/student_account/logistration_factory': 'js/student_account/logistration_factory.5e55252d0ace',
'js/courseware/courseware_factory': 'js/courseware/courseware_factory.1504fc10caef',
'js/groups/views/cohorts_dashboard_factory': 'js/groups/views/cohorts_dashboard_factory.ca68388d81d6',
'js/groups/discussions_management/discussions_dashboard_factory': 'js/discussions_management/views/discussions_dashboard_factory.2e10d9097343',
'draggabilly': 'js/vendor/draggabilly.26caba6f7187',
'hls': 'common/js/vendor/hls.5e0c7e1b3bfd'
            }
          });
        }).call(this, require || RequireJS.require);
    </script>




  

    <link href="./lms-style-course-vendor.cc467ea1c47d.css" rel="stylesheet" type="text/css">




  

    <link href="./lms-course.e8431918ed94.css" rel="stylesheet" type="text/css">




<script type="text/javascript" src="./jquery.autocomplete.964a0bfb4fd2.js.загрузка" async=""></script>
<script type="text/javascript" src="./tooltip_manager.b8fa94d4cefc.js.загрузка" async=""></script>

<link href="./jquery.autocomplete.css" rel="preload" type="text/css">
  

  <!--<base target="_parent">--><base href="." target="_parent">

<script type="text/javascript">
  var $$course_id = "course\u002Dv1:SkillFactory+DSPR\u002D2.0+14JULY2021";
</script>










<script type="application/json" id="user-metadata">
    null
</script>









<!-- dummy Segment -->
<script type="text/javascript">
  var analytics = {
    track: function() { return; },
    trackLink: function() { return; },
    pageview: function() { return; },
    page: function() { return; }
  };
</script>
<!-- end dummy Segment -->


<meta name="path_prefix" content="">


<meta name="openedx-release-line" content="maple">






<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(91593102, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true,
        webvisor:true
    });
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/91593102" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->

<!-- Google tag (gtag.js) -->
<script async="" src="./js"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-T4T8K8RLJL');
</script>

</head>

<body class="ltr view-in-course view-courseware courseware  lang_ru">


<div id="page-prompt"></div>
    
    <a class="nav-skip sr-only sr-only-focusable" href="https://lms.skillfactory.ru/xblock/block-v1:SkillFactory+DSPR-2.0+14JULY2021+type@vertical+block@e0b84959c15a43609ec6b146b9319e68?show_title=0&amp;show_bookmark_button=0&amp;recheck_access=1&amp;view=student_view&amp;format=Module#main">Перейти к основному содержимому</a>


    










    <div class="marketing-hero"></div>

<div class="content-wrapper main-container" id="content" dir="ltr">
    








<script type="text/template" id="image-modal-tpl">
    <div class="wrapper-modal wrapper-modal-image">
  <section class="image-link">
    <%= smallHTML%> <% // xss-lint: disable=underscore-not-escaped %>
    <a href="#" class="modal-ui-icon action-fullscreen" role="button">
      <span class="label">
        <span class="icon fa fa-arrows-alt fa-large" aria-hidden="true"></span> <%- gettext("Fullscreen") %>
      </span>
    </a>
  </section>

  <section class="image-modal">
    <section class="image-content">
      <div class="image-wrapper">
        <img alt="<%- largeALT %>, <%- gettext('Large') %>" src="<%- largeSRC %>" />
      </div>

      <a href="#" class="modal-ui-icon action-close" role="button">
        <span class="label">
          <span class="icon fa fa-remove fa-large" aria-hidden="true"></span> <%- gettext("Close") %>
        </span>
      </a>

      <ul class="image-controls">
        <li class="image-control">
          <a href="#" class="modal-ui-icon action-zoom-in" role="button">
            <span class="label">
              <span class="icon fa fa fa-search-plus fa-large" aria-hidden="true"></span> <%- gettext("Zoom In") %>
            </span>
          </a>
        </li>

        <li class="image-control">
          <a href="#" class="modal-ui-icon action-zoom-out is-disabled" aria-disabled="true" role="button">
            <span class="label">
              <span class="icon fa fa fa-search-minus fa-large" aria-hidden="true"></span> <%- gettext("Zoom Out") %>
            </span>
          </a>
        </li>
      </ul>
    </section>
  </section>
</div>

</script>







<div class="course-wrapper chromeless">
  <section class="course-content" id="course-content" data-enable-completion-on-view-service="false" style="display: block; width: auto; margin: 0;">
      <main id="main" aria-label="Content">
        
<div class="xblock xblock-student_view xblock-student_view-vertical" data-course-id="course-v1:SkillFactory+DSPR-2.0+14JULY2021" data-init="VerticalStudentView" data-runtime-class="LmsRuntime" data-runtime-version="1" data-block-type="vertical" data-usage-id="block-v1:SkillFactory+DSPR-2.0+14JULY2021+type@vertical+block@e0b84959c15a43609ec6b146b9319e68" data-request-token="fd3f3f28007011ee991e6ee66ef9d07c" data-graded="True" data-has-score="False">
  









<div class="vert-mod">
    <div class="vert vert-0" data-id="block-v1:SkillFactory+DSPR-2.0+14JULY2021+type@html+block@fa340cae96424ab5a28b718442dc5d69" style="display: none;">
        
<div class="xblock xblock-student_view xblock-student_view-html xmodule_display xmodule_HtmlBlock" data-course-id="course-v1:SkillFactory+DSPR-2.0+14JULY2021" data-mark-completed-on-view-after-delay="5000" data-init="XBlockToXModuleShim" data-runtime-class="LmsRuntime" data-runtime-version="1" data-block-type="html" data-usage-id="block-v1:SkillFactory+DSPR-2.0+14JULY2021+type@html+block@fa340cae96424ab5a28b718442dc5d69" data-request-token="fd3f3f28007011ee991e6ee66ef9d07c" data-graded="True" data-has-score="False">
  <script type="json/xblock-args" class="xblock-json-init-args">
    {"xmodule-type": "HTMLModule"}
  </script>
  <div class="hidden-block">
<link href="./dst-3.0_style.css" rel="stylesheet">
<script src="./dst-3.0_script.js.загрузка"></script>
</div>
</div>

    </div>
    <div class="vert vert-1" data-id="block-v1:SkillFactory+DSPR-2.0+14JULY2021+type@html+block@7d62147e36144e3f826b4b609d49b8c0">
        
<div class="xblock xblock-student_view xblock-student_view-html xmodule_display xmodule_HtmlBlock" data-course-id="course-v1:SkillFactory+DSPR-2.0+14JULY2021" data-mark-completed-on-view-after-delay="5000" data-init="XBlockToXModuleShim" data-runtime-class="LmsRuntime" data-runtime-version="1" data-block-type="html" data-usage-id="block-v1:SkillFactory+DSPR-2.0+14JULY2021+type@html+block@7d62147e36144e3f826b4b609d49b8c0" data-request-token="fd3f3f28007011ee991e6ee66ef9d07c" data-graded="True" data-has-score="False">
  <script type="json/xblock-args" class="xblock-json-init-args">
    {"xmodule-type": "HTMLModule"}
  </script>
  <p class="black-frame">В предыдущем юните мы говорили, что для выбора между параметрическими и непараметрическими тестами необходимо проверить распределение признаков на нормальность. Сейчас мы узнаем, что такое нормальное распределение, почему оно так важно для нас и как проверить, подчиняется ли распределение данных нормальному закону.</p>
<p>Начиная с этого раздела, мы будем практиковаться на <em>Python</em>. Для этого нам понадобятся две новых библиотеки:</p>
<ul style="list-style-type: square;">
<ul style="list-style-type: square;">
<li><a href="https://docs.scipy.org/doc/scipy/index.html" target="_blank"><span class="link">SciPy</span></a> — библиотека для научных и инженерных расчётов.</li>
<li><a href="https://www.statsmodels.org/stable/index.html" target="_blank"><span class="link">Statsmodels</span></a> — библиотека для статистических исследований.</li>
</ul>
</ul>
<p>Установить эти библиотеки можно с помощью стандартной команды:</p>
<!-- HTML generated using hilite.me -->
<div style="background: #F8F8F8; overflow: auto; width: auto; border: solid #D1D9D7; border-width: .1em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;">! pip install scipy
! pip install statsmodels
</pre>
</div>
<p></p>
<p><span class="h1-green">НОРМАЛЬНОЕ РАСПРЕДЕЛЕНИЕ</span></p>
<p>Многие процессы в природе следуют нормальному закону распределения: рост человека, вес при рождении, артериальное давление, размер ноги и др.</p>
<p>На курсе вы уже сталкивались с понятием нормального распределения и некоторыми теоремами и правилами, основанными на особенностях нормального распределения. В частности в модуле <a href="https://lms.skillfactory.ru/courses/course-v1:SkillFactory+DSPR-2.0+14JULY2021/jump_to_id/6ffa245228414d7d98ce92adc3eeb15c" target="_blank"><span class="link">«Очистка данных»</span></a> мы изучали метод <em>z</em>-отклонений (трёх сигм) и метод Тьюки для поиска выбросов — они работают только для нормально распределённых данных.</p>
<p>Нормальное распределение (распределение Гаусса) характеризуется двумя числами:</p>
<ul style="list-style-type: square;">
<ul style="list-style-type: square;">
<li>средним значением \(\mu\) (mu);</li>
<li>стандартным отклонением \(\sigma\) (sigma).</li>
</ul>
</ul>
<p>Примеры нормальных распределений с разными \(\mu\) и \(\sigma\):</p>
<div class="black-frame">
<p style="text-align: center; margin-bottom: 0;"><img src="./DST_EDA_4_6_1.png" alt="img" style="width: 55%;"></p>
</div>
<p></p>
<p>Как вы можете видеть, вне зависимости от значений параметра среднего и стандартного отклонения нормальное распределение визуально напоминает колокол (или шляпу).</p>
<p>Любое нормальное распределение обладает следующими свойствами:</p>
<ul style="list-style-type: square;">
<ul style="list-style-type: square;">
<li>Один пик в центре и симметричные боковые стороны (одномодальное распределение).</li>
<li>Среднее и медиана равны и расположены в центре распределения.</li>
<li>Отклонение значений от среднего подчиняется правилу трёх сигм:
<ul style="list-style-type: square;">
<ul style="list-style-type: square;">
<li>68 % значений находятся в пределах одного стандартного отклонения от среднего;</li>
<li>95 % значений — в пределах двух стандартных отклонений;</li>
<li>99.7% значений — в пределах трёх стандартных отклонений.</li>
</ul>
</ul>
</li>
</ul>
</ul>
<p></p>
<div class="black-frame">
<figure style="text-align: center;"><img style="margin-bottom: 10px; width: 55%;" src="./DST_EDA_4_6_2.png" alt="img"> <figcaption><span style="color: #999999;"><a href="https://ru.wikipedia.org/wiki/%D0%9D%D0%BE%D1%80%D0%BC%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B5_%D1%80%D0%B0%D1%81%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5" target="_blank"><span style="color: #d6d5d6;">Источник изображения</span></a></span></figcaption></figure>
</div>
<p></p>
<p><span class="h1-green">ГРАФИЧЕСКИЕ МЕТОДЫ ПРОВЕРКИ НА НОРМАЛЬНОСТЬ </span></p>
<p><span class="h2-grey">Гистограмма</span></p>
<p>Если гистограмма имеет вид колокола, то мы считаем, что данные в выборке распределены нормально:</p>
<div class="black-frame">
<p style="text-align: center; margin-bottom: 0;"><img src="./DST_EDA_4_6_3.png" alt="img" style="width: 50%;"></p>
</div>
<p></p>
<p>Напомним, что в <em>Python</em> гистограмму можно построить с помощью функции <a href="https://seaborn.pydata.org/generated/seaborn.histplot.html" target="_blank"><span class="link">histplot()</span></a> пакета <em>seaborn</em>. Параметр <span class="code-blue">kde=True</span> добавляет к гистограмме график оценки плотности ядра.</p>
<p class="grey-container">Рассмотрим эту функцию на примере датасета <a href="https://scikit-learn.org/stable/modules/generated/sklearn.datasets.fetch_california_housing.html#sklearn.datasets.fetch_california_housing" target="_blank"><span class="link">California Housing</span></a>, входящего в состав <em>sklearn</em>. Построим гистограмму распределения целевого признака — стоимости домов:</p>
<!-- HTML generated using hilite.me -->
<div style="background: #F8F8F8; overflow: auto; width: auto; border: solid #D1D9D7; border-width: .1em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;"><span style="color: #888888;"># импортируем библиотеки</span>
<span style="color: #008800; font-weight: bold;">import</span> <span style="color: #0e84b5; font-weight: bold;">pandas</span> <span style="color: #008800; font-weight: bold;">as</span> <span style="color: #0e84b5; font-weight: bold;">pd</span>
<span style="color: #008800; font-weight: bold;">from</span> <span style="color: #0e84b5; font-weight: bold;">sklearn</span> <span style="color: #008800; font-weight: bold;">import</span> datasets
<span style="color: #008800; font-weight: bold;">from</span> <span style="color: #0e84b5; font-weight: bold;">matplotlib</span> <span style="color: #008800; font-weight: bold;">import</span> pyplot <span style="color: #008800; font-weight: bold;">as</span> plt
<span style="color: #008800; font-weight: bold;">import</span> <span style="color: #0e84b5; font-weight: bold;">seaborn</span> <span style="color: #008800; font-weight: bold;">as</span> <span style="color: #0e84b5; font-weight: bold;">sns</span>

<span style="color: #888888;"># загружаем данные</span>
dataset <span style="color: #333333;">=</span> datasets<span style="color: #333333;">.</span>fetch_california_housing()
data <span style="color: #333333;">=</span> dataset<span style="color: #333333;">.</span>target

<span style="color: #888888;"># задаём параметры гистограммы</span>
ax <span style="color: #333333;">=</span> sns<span style="color: #333333;">.</span>histplot(data, bins<span style="color: #333333;">=</span><span style="color: #0000dd; font-weight: bold;">30</span>, kde<span style="color: #333333;">=</span><span style="color: #008800; font-weight: bold;">True</span>)
ax<span style="color: #333333;">.</span>set(xlabel<span style="color: #333333;">=</span><span style="background-color: #fff0f0;">'Значение признака'</span>, ylabel<span style="color: #333333;">=</span><span style="background-color: #fff0f0;">'Частота'</span>)
plt<span style="color: #333333;">.</span>title(<span style="background-color: #fff0f0;">'Гистограмма распределения стоимости домов'</span>)

<span style="color: #888888;"># отображаем гистограмму</span>
plt<span style="color: #333333;">.</span>show()
</pre>
</div>
<p></p>
<p><img src="./DST_EDA_4_6_4.png" alt="img" style="width: 50%;"></p>
<p></p>
<p>Форма гистограммы несимметрична, с двумя пиками. Отсюда делаем промежуточный вывод: распределение стоимости домов не является нормальным.</p>
<p><span class="h2-grey">Квантиль-квантиль график</span></p>
<p class="info"><span class="black-bold">Квантиль-квантиль график (Q-Q Plot)</span> визуализирует, насколько распределение выборки близко к нормальному. График показывает взаимное расположение квантилей наблюдаемого и теоретического нормального распределения. <a href="https://habr.com/ru/articles/578754/" target="_blank"><span class="link">Хороший гайд по Q-Q Plots</span></a>.</p>
<p>Если все точки лежат вдоль диагонали, то мы считаем, что данные в выборке распределены нормально:</p>
<div class="black-frame">
<p style="text-align: center; margin-bottom: 0;"><img src="./DST_EDA_4_6_5.png" alt="img" style="width: 50%;"></p>
</div>
<p></p>
<p>В <em>Python</em> квантиль-квантиль график можно построить с помощью функции <a href="https://www.statsmodels.org/dev/generated/statsmodels.graphics.gofplots.qqplot.html" target="_blank"><span class="link">qqplot()</span></a> пакета <em>statsmodels</em>. Построение квантиль-квантиль графика мы также рассмотрим на примере стоимости домов из датасета <a href="https://scikit-learn.org/stable/modules/generated/sklearn.datasets.fetch_california_housing.html#sklearn.datasets.fetch_california_housing" target="_blank"><span class="link">California Housing</span></a>:</p>
<!-- HTML generated using hilite.me -->
<div style="background: #F8F8F8; overflow: auto; width: auto; border: solid #D1D9D7; border-width: .1em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;"><span style="color: #008800; font-weight: bold;">import</span> <span style="color: #0e84b5; font-weight: bold;">numpy</span> <span style="color: #008800; font-weight: bold;">as</span> <span style="color: #0e84b5; font-weight: bold;">np</span>
<span style="color: #008800; font-weight: bold;">import</span> <span style="color: #0e84b5; font-weight: bold;">statsmodels.api</span> <span style="color: #008800; font-weight: bold;">as</span> <span style="color: #0e84b5; font-weight: bold;">sm</span>
<span style="color: #008800; font-weight: bold;">from</span> <span style="color: #0e84b5; font-weight: bold;">sklearn</span> <span style="color: #008800; font-weight: bold;">import</span> datasets
<span style="color: #008800; font-weight: bold;">from</span> <span style="color: #0e84b5; font-weight: bold;">matplotlib</span> <span style="color: #008800; font-weight: bold;">import</span> pyplot <span style="color: #008800; font-weight: bold;">as</span> plt

<span style="color: #888888;"># загружаем данные</span>
dataset <span style="color: #333333;">=</span> datasets<span style="color: #333333;">.</span>fetch_california_housing()
data <span style="color: #333333;">=</span> dataset<span style="color: #333333;">.</span>target

<span style="color: #888888;"># задаём параметры квантиль-квантиль графика</span>
sm<span style="color: #333333;">.</span>qqplot(data, line<span style="color: #333333;">=</span><span style="background-color: #fff0f0;">'s'</span>)
plt<span style="color: #333333;">.</span>title(<span style="background-color: #fff0f0;">'Квантиль-квантиль график </span><span style="color: #666666; font-weight: bold; background-color: #fff0f0;">\n</span><span style="background-color: #fff0f0;"> для распределения стоимости домов'</span>)

<span style="color: #888888;"># отображаем квантиль-квантиль график</span>
plt<span style="color: #333333;">.</span>show()
</pre>
</div>
<p></p>
<p><img src="./DST_EDA_4_6_6.png" alt="img" style="width: 50%;"></p>
<p></p>
<p>Точки не располагаются на диагонали — распределение стоимости домов не является нормальным (как мы видели и по гистограмме).</p>
<p>Графические методы могут быть неудобны в граничных случаях, когда сложно визуально определить, нормально ли распределение. Например, распределение может быть симметричным и похожим на колокол, но не соответствовать другим признакам нормального распределения. Также гистограмма и <em>Q-Q Plot</em> неинформативны на маленьких выборках.</p>
<p>В таких случаях на помощь приходят специальные статистические тесты.</p>
<p><span class="h1-green">СТАТИСТИЧЕСКИЕ МЕТОДЫ ПРОВЕРКИ НА НОРМАЛЬНОСТЬ</span></p>
<p class="grey-container">Существует несколько статистических методов, которые позволяют получить количественную оценку для проверки на нормальность. Мы рассмотрим наиболее часто встречающийся метод — тест Шапиро — Уилка.</p>
<p class="info"><span class="black-bold">Тест Шапиро — Уилка&nbsp;</span>оценивает выборку данных и определяет, насколько вероятно, что данные были получены из нормального распределения.</p>
<p>Тест хорошо работает на выборках до 5000 объектов.</p>
<p>Гипотезы в основе теста:</p>
<ul style="list-style-type: square;">
<ul style="list-style-type: square;">
<li>Нулевая: данные распределены нормально.</li>
<li>Альтернативная: данные не распределены нормально.</li>
</ul>
</ul>
<p><a href="http://www.machinelearning.ru/wiki/index.php?title=%D0%9A%D1%80%D0%B8%D1%82%D0%B5%D1%80%D0%B8%D0%B9_%D0%A8%D0%B0%D0%BF%D0%B8%D1%80%D0%BE-%D0%A3%D0%B8%D0%BB%D0%BA%D0%B0" target="_blank"><span class="link">Детали расчёта p-value в тесте Шапиро — Уилка</span></a>.</p>
<p>Если <em>p-value</em> теста больше уровня значимости \(\alpha\), то мы считаем, что данные распределены нормально.</p>
<p><span class="h2-grey">ПРИМЕР ИСПОЛЬЗОВАНИЯ ТЕСТА НА PYTHON</span></p>
<p>В <em>Python</em> тест Шапиро — Уилка реализован в функции <a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.shapiro.html" target="_blank"><span class="link">shapiro()</span></a> пакета <em>scipy</em>. Эта функция принимает на вход выборочные данные, а выдаёт <em>p</em>-значение и дополнительный параметр — статистику теста.</p>
<p class="green-container"><strong>Примечание. </strong>Статистика теста не будет нас интересовать, так как её интерпретация, в отличие от <em>p-value</em>, зависит от конкретного типа теста. Поэтому для проведения статистических тестов здесь и далее мы будем ориентироваться только на значение <em>p-value</em>.</p>
<p>Рассмотрим пример использования этой функции.</p>
<p>Допустим, нам необходимо проверить, нормально ли распределение количества заказов в день в некотором интернет-магазине. Чтобы правильно выбрать тест, количество заказов нужно проверить на нормальность:</p>
<!-- HTML generated using hilite.me -->
<div style="background: #F8F8F8; overflow: auto; width: auto; border: solid #D1D9D7; border-width: .1em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;"><span style="color: #008800; font-weight: bold;">import</span> <span style="color: #0e84b5; font-weight: bold;">scipy.stats</span> <span style="color: #008800; font-weight: bold;">as</span> <span style="color: #0e84b5; font-weight: bold;">stats</span>

<span style="color: #888888;"># задаём уровень значимости</span>
alpha <span style="color: #333333;">=</span> <span style="color: #6600ee; font-weight: bold;">0.05</span> 

<span style="color: #888888;"># загружаем данные</span>
data <span style="color: #333333;">=</span> [<span style="color: #0000dd; font-weight: bold;">31</span>, <span style="color: #0000dd; font-weight: bold;">38</span>, <span style="color: #0000dd; font-weight: bold;">30</span>, <span style="color: #0000dd; font-weight: bold;">58</span>, <span style="color: #0000dd; font-weight: bold;">40</span>, <span style="color: #0000dd; font-weight: bold;">36</span>, <span style="color: #0000dd; font-weight: bold;">38</span>, <span style="color: #0000dd; font-weight: bold;">44</span>, <span style="color: #0000dd; font-weight: bold;">43</span>, <span style="color: #0000dd; font-weight: bold;">39</span>, <span style="color: #0000dd; font-weight: bold;">36</span>, <span style="color: #0000dd; font-weight: bold;">41</span>, <span style="color: #0000dd; font-weight: bold;">37</span>, <span style="color: #0000dd; font-weight: bold;">20</span>, <span style="color: #0000dd; font-weight: bold;">38</span>, <span style="color: #0000dd; font-weight: bold;">35</span>, <span style="color: #0000dd; font-weight: bold;">38</span>, <span style="color: #0000dd; font-weight: bold;">11</span>, <span style="color: #0000dd; font-weight: bold;">42</span>, <span style="color: #0000dd; font-weight: bold;">34</span>]

<span style="color: #888888;"># проводим тест Шапиро — Уилка</span>
_, p <span style="color: #333333;">=</span> stats<span style="color: #333333;">.</span>shapiro(data)

<span style="color: #008800; font-weight: bold;">print</span>(<span style="background-color: #fff0f0;">'p-value = </span><span style="background-color: #eeeeee;">%.3f</span><span style="background-color: #fff0f0;">'</span> <span style="color: #333333;">%</span> (p))

<span style="color: #888888;"># интерпретируем результат</span>
<span style="color: #008800; font-weight: bold;">if</span> p <span style="color: #333333;">&lt;=</span> alpha:
    <span style="color: #008800; font-weight: bold;">print</span>(<span style="background-color: #fff0f0;">'Распределение не нормальное'</span>)
<span style="color: #008800; font-weight: bold;">else</span>:
    <span style="color: #008800; font-weight: bold;">print</span>(<span style="background-color: #fff0f0;">'Распределение нормальное'</span>)

<span style="color: #888888;"># p-value = 0.015</span>
<span style="color: #888888;"># Распределение не нормальное</span>
</pre>
</div>
<p></p>
<div class="black-frame">
<p>Мы рассмотрели графические и статистические методы проверки на нормальность. Их можно использовать как вместе, так и по отдельности.</p>
<p class="blue-container-dotted">Тест Шапиро — Уилка — не единственный метод проверки на нормальность. Существуют и другие, например, <a href="https://lms.skillfactory.ru/asset-v1:SkillFactory+DSPR-2.0+14JULY2021+type@asset+block/guid_normal_tets.pdf" download=""><span class="link">тест Д’Агостино</span></a> или <a href="http://www.machinelearning.ru/wiki/index.php?title=%D0%9A%D1%80%D0%B8%D1%82%D0%B5%D1%80%D0%B8%D0%B9_%D0%9A%D0%BE%D0%BB%D0%BC%D0%BE%D0%B3%D0%BE%D1%80%D0%BE%D0%B2%D0%B0-%D0%A1%D0%BC%D0%B8%D1%80%D0%BD%D0%BE%D0%B2%D0%B0" target="_blank"><span class="link">тест Колмогорова — Смирнова</span></a>. У всех этих методов разные принципы работы, но очень похожие результаты, поэтому в большинстве случаев мож</p></div></div></div></div></div></main></section></div></div></body></html>